<html>
  <head>
    <meta charset="UTF-8" >
    <title>UNET example with p5.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
    <script src="https://unpkg.com/ml5@0.4.3/dist/ml5.min.js" type="text/javascript"></script>
  </head>

  <body>
    <h1>UNET example using p5.js</h1>
    <script>
const   uNet = ml5.uNet('face', modelReady);
let img;
let objects = [];
let status;

// load uNet model

function setup() {
  createCanvas(4032, 3024);
  img = createImg("banana.JPG", imageReady);
  img.hide();
  img.size(4032,3024);
}
      
function modelReady(){
  console.log("model Ready!")
  status = true;
}
function imageReady(){
  console.log("Detecting")
  uNet.segment(img, gotResult);
}
function gotResult(err, results) {
  if (err) {
    console.log(err);
  }
  console.log(results);
  objects = results;
}

function draw() {
    image(objects.backgroundMasks, 0, 0)
}
      </script>
  </body>
</html>
